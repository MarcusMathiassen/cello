#!/bin/bash

platform_layer=./src/platform_macOS.mm

olvl=-O3
compiler=clang++
platform_frameworks=-framework\ AppKit
flags=-fno-exceptions\ -fno-rtti #\ -Wall\ -Wextra\ -fsanitize=address\ -fno-omit-frame-pointer
std=c++2a
debugMode=1
mode=-DDEV=${debugMode}

# Build game dylib
dylibname=./cello.dylib
$compiler -dynamiclib ./src/cello.cpp -std=$std $olvl $flags $mode -o $dylibname

# Build platform layer
#$compiler $platform_layer -std=$std $olvl $flags $mode $platform_frameworks -o ./cello
